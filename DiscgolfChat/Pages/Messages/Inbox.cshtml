@page
@model DiscgolfChat.Pages.Messages.InboxModel
@{
    ViewData["Title"] = "Inkorg";
}

<h2>Inkorg</h2>

@if (Model.Messages.Count == 0)
{
    <p>Du har inga meddelanden.</p>
}
else
{
    <ul class="list-group">
        @foreach (var message in Model.Messages)
        {
            <div class="card mb-3">
                <div class="card-body">
                    <strong>Från:</strong> @(Model.UserNames.TryGetValue(message.FromUserId, out var name) ? name : "Okänd användare") <br />
                    <strong>Skickat:</strong> @message.SentAt.ToLocalTime().ToString("g") <br />
                    <p>@message.Content</p>
                </div>
            </div>
        }
    </ul>
}
